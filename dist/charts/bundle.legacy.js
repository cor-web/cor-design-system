!function(){'use strict';function t(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}function n(t,n){if(!(t instanceof n))throw new TypeError('Cannot call a class as a function')}function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function o(t,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function');t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,n,e){return(c=u()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&a(o,e.prototype),o}).apply(null,arguments)}function l(t){var n='function'==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf('[native code]')))return t;var e;if('function'!=typeof t)throw new TypeError('Super expression must either be null or a function');if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return c(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,t)})(t)}function f(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function s(t,n){return!n||'object'!=typeof n&&'function'!=typeof n?function(t){if(void 0===t)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t}(t):n}function d(t){var n=u();return function(){var e,r=i(t);if(n){var o=i(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return s(this,e)}}function p(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if('undefined'==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(t,n)||m(t,n)||function(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}()}function h(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if('undefined'!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||m(t)||function(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}()}function m(t,n){if(t){if('string'==typeof t)return v(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return'Object'===e&&t.constructor&&(e=t.constructor.name),'Map'===e||'Set'===e?Array.from(t):'Arguments'===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?v(t,n):void 0}}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var y=function(t){return p(t,1)[0]},b=function(t,n){return'function'==typeof t?t(n):t},g=function(t,n){return t.style.willChange=n?n.map((function(t){return t.property})).join():'auto'},w=function(t,n){return Object.entries(n).reduce((function(t,n){var e=p(n,2),r=e[0],o=e[1];return t.setAttribute(r,o),t}),document.createElementNS('http://www.w3.org/2000/svg',t))},x={axes:['x','y'],count:0,add:function(t){var n=t.element,e=t.blur,r='motion-blur-'.concat(this.count++),o=w('svg',{style:'position: absolute; width: 0; height: 0'}),i=w('filter',this.axes.reduce((function(t,n){var r=2*e[n];return t[n]='-'.concat(r,'%'),t['x'==n?'width':'height']=''.concat(100+2*r,'%'),t}),{id:r,'color-interpolation-filters':'sRGB'})),a=w('feGaussianBlur',{in:'SourceGraphic'});return i.append(a),o.append(i),n.style.filter='url("#'.concat(r,'")'),document.body.prepend(o),a}},M=function(t,n){var e=t.blur,r=t.gaussian,o=t.easing,i=x.axes.map((function(t){return function(t,n,e){var r=n.easing,o=t*e,i=t-o,a='linear'==r?t:r.startsWith('in-out')?2*(e<.5?o:i):r.startsWith('in')?o:i;return Math.max(0,a)}(e[t],o,n)}));r.setAttribute('stdDeviation',i.join())},O=function(t){var n=x.axes.reduce((function(t,n){return t[n]=0,t}),{});return Object.assign(n,t)},j=function(t){var n=p(function(t){return function(t){var n=t.split(''),e=t.length<5?n.map((function(t){return t+t})):n.reduce((function(t,e,r){return r%2&&t.push(n[r-1]+e),t}),[]);return e.length<4&&e.push('ff'),e}(t).map((function(t){return parseInt(t,16)}))}(t.slice(1)),4),e=n[0],r=n[1],o=n[2],i=n[3];return'rgba('.concat(e,', ').concat(r,', ').concat(o,', ').concat(i/255,')')},A=2*Math.PI,S=function(t,n){return n/A*Math.asin(1/t)},T={linear:function(t){return t},'in-cubic':function(t){return Math.pow(t,3)},'in-quartic':function(t){return Math.pow(t,4)},'in-quintic':function(t){return Math.pow(t,5)},'in-exponential':function(t){return Math.pow(1024,t-1)},'in-circular':function(t){return 1-Math.sqrt(1-Math.pow(t,2))},'in-elastic':function(t,n,e){var r=Math.max(n,1),o=S(r,e);return-r*Math.pow(2,10*(t-=1))*Math.sin((t-o)*A/e)},'out-cubic':function(t){return Math.pow(--t,3)+1},'out-quartic':function(t){return 1-Math.pow(--t,4)},'out-quintic':function(t){return Math.pow(--t,5)+1},'out-exponential':function(t){return 1-Math.pow(2,-10*t)},'out-circular':function(t){return Math.sqrt(1-Math.pow(--t,2))},'out-elastic':function(t,n,e){var r=Math.max(n,1),o=S(r,e);return r*Math.pow(2,-10*t)*Math.sin((t-o)*A/e)+1},'in-out-cubic':function(t){return(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*Math.pow(t,2)+2)},'in-out-quartic':function(t){return(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},'in-out-quintic':function(t){return(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*Math.pow(t,4)+2)},'in-out-exponential':function(t){return(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},'in-out-circular':function(t){return(t*=2)<1?-.5*(Math.sqrt(1-Math.pow(t,2))-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},'in-out-elastic':function(t,n,e){var r=Math.max(n,1),o=S(r,e);return(t*=2)<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-o)*A/e)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-o)*A/e)*.5+1}},k=function(t){var n=p(t.trim().split(' '),3),e=n[0],r=n[1],o=void 0===r?1:r,i=n[2];return{easing:e,amplitude:o,period:void 0===i?.4:i}},E=/-?\d*\.?\d+/g,q=function(t){return t.match(E).map(Number)},R=function(t,n){var e=function(t){return t.map((function(t){var n=String(t);return n.startsWith('#')?j(n):n}))}(n),r=y(e).split(E);return{property:t,strings:r,numbers:e.map(q),round:y(r).startsWith('rgb')}},I=function(t,n){return Object.entries(t).map((function(t){var e=p(t,2),r=e[0],o=e[1];return R(r,b(o,n))}))},P=function(t,n){return t.reduce((function(t,e){var r=e.property,o=e.numbers,i=e.strings,a=e.round;return t[r]=function(t,n,e,r){var o=p(t,2),i=o[0],a=o[1];return n.reduce((function(t,n,o){var u=o-1,c=function(t,n,e){return t+(n-t)*e}(i[u],a[u],r);return t+(e&&o<4?Math.round(c):c)+n}))}(o,i,a,n),t}),{})},z=function(t){return t.forEach((function(t){return t.numbers.reverse()}))},C={all:new Set,add:function(t){this.all.add(t).size<2&&requestAnimationFrame(N)}},L={},_=function(t,n,e){return t>0?b(n,e)/t:0},B=function(n,e){var r=n.elements,o=void 0===r?null:r,i=n.easing,a=void 0===i?'out-elastic':i,u=n.duration,c=void 0===u?1e3:u,l=n.delay,s=void 0===l?0:l,d=n.speed,p=void 0===d?1:d,h=n.loop,m=void 0!==h&&h,v=n.optimize,y=void 0!==v&&v,w=n.direction,M=void 0===w?'normal':w,j=n.blur,A=void 0===j?null:j,S=n.change,T=void 0===S?null:S,E=f(n,['elements','easing','duration','delay','speed','loop','optimize','direction','blur','change']),q={totalDuration:-1};(function(t){return Array.isArray(t)?t:!t||t.nodeType?[t]:Array.from('string'==typeof t?document.querySelectorAll(t):t)})(o).forEach(function(){var n,e=(n=regeneratorRuntime.mark((function t(n,e){var r,o,i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=I(E,e),o={element:n,keyframes:r,loop:m,optimize:y,direction:M,change:T,easing:k(a),duration:_(p,c,e)},i=_(p,s,e),u=i+o.duration,'normal'!=M&&z(r),n&&(y&&g(n,r),A&&(o.blur=O(b(A,e)),o.gaussian=x.add(o))),u>q.totalDuration&&(q.animation=o,q.totalDuration=u),!i){t.next=10;break}return t.next=10,F(i);case 10:C.add(o);case 11:case'end':return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(o,i){var a=n.apply(e,r);function u(n){t(a,o,i,u,c,'next',n)}function c(n){t(a,o,i,u,c,'throw',n)}u(void 0)}))});return function(t,n){return e.apply(this,arguments)}}());var R=q.animation;R&&(R.end=e,R.options=n)},N=function t(n){var e=C.all;e.forEach((function(t){!function(t,n){t.startTime||(t.startTime=n),t.elapsed=n-t.startTime}(t,n);var r,o,i,a=function(t){var n=t.elapsed,e=t.duration;return e>0?Math.min(n/e,1):1}(t),u=t.element,c=t.keyframes,l=t.loop,f=t.optimize,s=t.direction,d=t.change,p=t.easing,h=t.duration,m=t.gaussian,v=t.end,y=t.options;if(s){var b=a;switch(a){case 0:'alternate'==s&&z(c);break;case 1:l?function(t){t.startTime=0}(t):(e.delete(t),f&&u&&g(u),m&&(r=m,o=u.style,i=r.parentNode.parentNode,o.filter='none',i.remove())),v&&v(y);break;default:b=function(t,n){var e=t.easing,r=t.amplitude,o=t.period;return T[e](n,r,o)}(p,a)}return m&&M(t,b),d&&v&&d(b),void(u&&Object.assign(u.style,P(c,b)))}a<1||(e.delete(t),v(h))})),e.size&&requestAnimationFrame(t)};document.addEventListener('visibilitychange',(function(){var t=performance.now();if(document.hidden){var n=C.all;return L.time=t,L.all=new Set(n),void n.clear()}var e=L.all,r=L.time;if(e){var o=t-r;requestAnimationFrame((function(){return e.forEach((function(t){t.startTime+=o,C.add(t)}))}))}}));var F=function(t){return new Promise((function(n){return C.add({duration:t,end:n})}))},H=function(t,n){return'\n\n    <style>\n      :host {\n        --color: #266dd3;\n      }\n    </style>\n\n    <svg style="display:block" viewBox="0 0 100 4" fill="none" xmlns="http://www.w3.org/2000/svg">\n      \n      <rect width="100" height="4" fill="#fff"></rect>\n      \n      \n      <g>\n        <rect '.concat(t>0?'animate':'','  x="0"  width="').concat(t,'" height="4" fill="var(--color, var(--chart-theme-').concat(n,'-color-1, blue))"></rect>\n\n        <text fill="white" font-family="arial"\n          font-size="2" x="0" y="50%">').concat(t,'</text>\n      </g>\n      \n\n    </svg>\n    ')},D=function(t){o(i,t);var e=d(i);function i(){var t;n(this,i),(t=e.call(this)).getAttribute('value')&&(t.value=[t.getAttribute('value')]);var r=t.getTheme(t.getAttribute('theme'));return t.attachShadow({mode:'open'}),t.shadowRoot.innerHTML=H(t.value,r),t}return r(i,[{key:'getTheme',value:function(t){return t.substring(t.lastIndexOf('-')+1,t.lastIndexOf('.'))}},{key:'connectedCallback',value:function(){var t,n=this.shadowRoot.querySelectorAll('[animate]');t={elements:n,duration:1200,delay:function(t){return 100*t},transform:['scalex(0)','scalex(1)']},new Promise((function(n){return B(t,n)}))}}]),i}(l(HTMLElement));customElements.get('bar-chart')||customElements.define('bar-chart',D);var W=['266dd3','344055','888098','cfb3cd','dfc2f2'],G=function(t,n){var e=t.map((function(t){return Number(t)})).slice(0,n).reduce((function(t,n){return t+n}),0);return n>0?e:0},U=function(t,n){return'\n    <style>\n\n      :host {\n        '.concat(t.map((function(t,n){return'\n          --color-'.concat(n+1,': #').concat(W[n+1],';\n        ')})).join(''),'\n      }\n      \n      ul {\n        list-style: none;\n        font-size: .8rem;\n        padding: 0;\n      }\n\n      li {\n        flex-grow: 1;\n      }\n\n\n      li:before {\n        background: red;\n        content:"";\n        display: inline-block;\n        height: 10px;\n        margin-right: .2rem;\n        width: 10px;\n      }\n\n      \n\n      ').concat(t.map((function(t,e){return'\n          li:nth-child('.concat(e+1,'):before {\n            background-color: var(--color-').concat(e+1,', var(--chart-theme-').concat(n,'-color-').concat(e+1,', blue));\n          }\n        ')})).join(''),'\n\n      \n      </style>\n    <svg role="group" aria-labelledby="graph-title" aria-describedby="graph-desc" style="display:block" viewBox="0 0 100 4" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <desc id="timeline-desc">An Interactive Timeline</desc>\n      <rect width="100" height="4" fill="#e3e3e3"></rect>\n\n      ').concat(t.map((function(e,r){return'\n      <g aria-label="bar graph">\n        <g>\n          <rect x="'.concat(G(t,r),'" ').concat(t>0?'animate':'','  width="').concat(e,'" height="4" fill="var(--color-').concat(r+1,', var(--chart-theme-').concat(n,'-color-').concat(r+1,', blue))"></rect>\n          <title>title</title>\n        </g>\n\n        <text fill="white" font-family="arial"\n          font-size="2" x="').concat(G(t,r)+1,'" y="50%">').concat(e,'</text>\n      </g>\n      ')})).join(''),'\n        \n    </svg>\n    ')},$=document.createElement('template'),J=function(t){o(i,t);var e=d(i);function i(){var t;n(this,i),(t=e.call(this)).attachShadow({mode:'open'});var r=t.getTheme(t.getAttribute('theme')),o=t.querySelectorAll('[value]');return t.values=h(o).map((function(t){return t.getAttribute('value')})),$.innerHTML=U(t.values,r),t}return r(i,[{key:'getTheme',value:function(t){return t.substring(t.lastIndexOf('-')+1,t.lastIndexOf('.'))}},{key:'addLegend',value:function(){var t=h(this.querySelectorAll('[slot="item-text"')).map((function(t){return t.textContent})),n=document.createElement('div');n.innerHTML='\n    <ul>\n        '.concat(t.map((function(t){return'<li>'.concat(t,'</li>')})).join(''),'\n    </ul>'),console.log(n),this.shadowRoot.appendChild(n)}},{key:'connectedCallback',value:function(){this.shadowRoot.appendChild($.content.cloneNode(!0)),this.hasAttribute('legend')&&this.addLegend()}}]),i}(l(HTMLElement));customElements.define('multi-bar-chart',J)}();
