/* Version: 0.0.0 - November 3, 2022 16:32:12 */
class e extends HTMLElement{constructor(){super(),this.root=document.querySelector("cor-header")}dispatchUpdate(e){const t=new CustomEvent("state-update",{detail:e,bubbles:!0,composed:!0});this.dispatchEvent(t)}}class t extends HTMLElement{constructor(){super();let e=this.querySelector("#panelsNav-template").content;this.attachShadow({mode:"open"}).appendChild(e.cloneNode(!0))}connectedCallback(){if(this.buttons=this.shadowRoot.querySelectorAll("button"),this.buttons.forEach((e=>{e.addEventListener("click",(e=>{this.onClick(e.target)}))})),matchMedia){window.matchMedia("(max-width: 1023px)").addEventListener("change",this.widthChange)}}widthChange(e){e.matches}toggle(e){let t="",s=e.getAttribute("aria-controls");"true"==e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","false"),t="hide-subnav"):(this.buttons.forEach((e=>{e.setAttribute("aria-expanded","false")})),e.setAttribute("aria-expanded","true"),t="change-subnav"),this.dispatchUpdate({type:t,target:s})}onClick(e){this.toggle(e)}dispatchUpdate(e){const t=new CustomEvent("state-update",{detail:e,bubbles:!0,composed:!0});this.dispatchEvent(t)}}window.customElements.define("cor-header",class extends e{constructor(){super(),this.addEventListener("state-update",this.store)}connectedCallback(){if(this.menusButtons=document.querySelectorAll("[clicky-menu] button"),this.toggleNavButton=document.getElementById("nav-toggle"),this.siteNav=document.getElementById("site-nav"),this.toolsQuicklinks=document.getElementById("tools-quicklinks"),this.socialMedia=document.getElementById("tools-socialMedia"),this.search=document.getElementById("site-search"),this.languages=document.querySelector("cor-languages-selector"),this.searchButton=document.getElementById("site-search-button"),this.subnavLinks=document.querySelectorAll("cor-header-navbar > nav > ul > li > a"),this.subnavButtons=document.querySelectorAll("#panelsNav button"),this.panelsNav=document.querySelector(".enhanced #panelsNav"),this.defaultNav=document.querySelector(".enhanced #defaultNav"),this.subnavItems=document.querySelectorAll(".cor-header-navbar__subnav "),this.subnavContainer=document.querySelector("cor-header-subnav"),this.subnavContainerItems=document.querySelectorAll("cor-header-subnav > ul > li"),this.popUps=document.querySelectorAll("cor-header-subnav > ul > li"),this.toggleNavButton.addEventListener("click",this.toggleNav.bind(this)),matchMedia){const e=window.matchMedia("(max-width: 1070px)");e.addEventListener("change",this.WidthChange.bind(this)),this.WidthChange(e)}}store({detail:e}){switch(e.type){case"change-subnav":console.log(e.type,e.target),this.update("visible-subnav",e.target);break;case"hide-subnav":console.log(e.type,e.target),this.update("visible-subnav","");break;case"change-view":console.log("STORE"),this.update("view",e.text)}}update(e,t){this[e]=t,this.setAttribute(e,t)}WidthChange(e){e.matches?(console.log(e,"match2"),this.setAttribute("view","mobile"),this.menusButtons.forEach((e=>{e.hidden=!1,e.setAttribute("aria-expanded","false"),e.addEventListener("click",this.toggleMenu)})),this.subnavItems.forEach((e=>{e.setAttribute("aria-expanded","false"),e.setAttribute("hidden","")})),this.subnavContainerItems.forEach((e=>{e.setAttribute("aria-expanded","false"),e.setAttribute("hidden","")})),this.subnavContainer.hidden=!0,this.toggleNavButton.removeAttribute("hidden"),this.toggleNavButton.setAttribute("aria-expanded","false"),console.log("Sherlock"),this.searchButton.setAttribute("hidden",""),this.search.removeAttribute("hidden"),this.defaultNav.removeAttribute("hidden")):(console.log(e,"no match2"),this.setAttribute("view","desktop"),this.subnavContainer.hidden=!1,this.defaultNav.setAttribute("hidden",""),this.subnavContainerItems.forEach((e=>{e.setAttribute("aria-expanded","false"),e.setAttribute("hidden","")})),this.subnavItems.forEach((e=>{e.setAttribute("aria-expanded","false"),e.setAttribute("hidden","")})),this.subnavButtons.forEach((e=>{e.addEventListener("click",this.toggleSubnav.bind(this))})),this.toggleNavButton.setAttribute("hidden",""),this.toggleNavButton.setAttribute("aria-expanded","true"),this.searchButton.removeAttribute("hidden"),this.search.setAttribute("hidden",""),this.siteNav.setAttribute("data-open","true"))}toggleSubnav(e){const t=e.target,s=t.hasAttribute("open"),i=document.getElementById(e.target.getAttribute("aria-controls"));this.popUps.forEach((e=>{e.setAttribute("hidden",""),e.setAttribute("aria-expanded","false")})),this.subnavButtons.forEach((e=>{e.removeAttribute("open")})),s?(t.removeAttribute("open"),i.setAttribute("aria-expanded","false")):(t.setAttribute("open",""),i.removeAttribute("hidden"),i.setAttribute("aria-expanded","true"),i.querySelector("a").focus())}toggleNav(e){console.log("TTTEST",this,this.open),this.open?this.removeAttribute("open"):this.setAttribute("open","")}toggleMenu(){const e=this,t=this.nextElementSibling;"true"==e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true")):(e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),t.removeAttribute("hidden"))}widthChange(){}static get observedAttributes(){return["open","view"]}get open(){return this.hasAttribute("open")}set open(e){e?this.setAttribute("open",""):this.removeAttribute("open"),this.toggleNav()}attributeChangedCallback(e,t,s){console.log("CHANGE",this,e,t,s,this.view),this.open||"mobile"!==this.view?this.open&&"mobile"===this.view?(console.log("VIEW: Mobile + Nav open"),this.languages.setAttribute("data-open","true"),console.log(this.languages)):this.open||"desktop"!==this.view?this.open&&"desktop"===this.view&&(console.log("VIEW: Desktop + Nav open"),this.removeAttribute("open")):(console.log("VIEW: Desktop + Nav closed"),this.removeAttribute("open")):console.log("VIEW: Mobile + Nav closed"),this.open||"desktop"===this.view?(console.log("open"),this.toggleNavButton.setAttribute("aria-expanded","true"),this.toolsQuicklinks.setAttribute("data-open","true"),this.siteNav.setAttribute("data-open","true"),this.socialMedia.setAttribute("data-open","true"),this.search.setAttribute("data-open","true"),this.languages.setAttribute("data-open","true")):(console.log("not open"),this.toggleNavButton.setAttribute("aria-expanded","false"),this.toolsQuicklinks.setAttribute("data-open","false"),this.siteNav.setAttribute("data-open","false"),this.socialMedia.setAttribute("data-open","false"),this.search.setAttribute("data-open","false"))}set view(e){this.dispatchUpdate({type:"change-view",text:e})}get view(){return this.getAttribute("view")}}),window.customElements.define("cor-header-navbar",class extends e{}),window.customElements.define("cor-search-button",class extends e{connectedCallback(){this.hidden=!1;const e=document.createElement("button"),t=this.querySelector("a"),s=t.innerHTML;e.innerHTML=s,this.replaceChild(e,t),this.addEventListener("click",this.onClick)}onClick(){this.toggleSearchBar()}toggleSearchBar(){const e=document.querySelector("cor-search-box");"true"!==e.getAttribute("aria-expanded")?(e.setAttribute("aria-expanded","true"),e.hidden=!1):(e.setAttribute("aria-expanded","false"),e.hidden=!0)}}),window.customElements.define("cor-header-subnav",class extends e{connectedCallback(){this.panels=this.querySelectorAll(".cor-header-subnav-panel");const{root:e}=this,t="visible-subnav";new MutationObserver((()=>this.showNav(e[t]))).observe(e,{attributes:!0,attributeFilter:[t]})}showNav(e){this.panels.forEach((e=>{e.setAttribute("aria-expanded",!1),e.hidden=!0})),e&&(document.getElementById(e).setAttribute("aria-expanded",!0),document.getElementById(e).hidden=!1)}}),window.customElements.define("cor-panels-nav",t),window.customElements.define("cor-subnav-description",class extends e{connectedCallback(){}}),window.customElements.define("cor-subnav-item",class extends e{connectedCallback(){if(!this.querySelector("#corSubnavDescriptionsContainer")){const e=document.createElement("ul");e.id="corSubnavDescriptionsContainer",this.appendChild(e)}const e=this.querySelector("#corSubnavDescriptionsContainer"),t=this.querySelectorAll("cor-subnav-description");t.forEach(((t,s)=>{0!==s&&(t.hidden=!0),e.appendChild(t)}));const s=this.querySelectorAll("[has-subnav]");s.forEach(((e,i)=>{0==i&&e.parentNode.classList.add("active"),e.addEventListener("mouseover",(e=>{s.forEach((e=>e.parentNode.classList.remove("active"))),e.target.parentNode.classList.add("active");const i=e.target.getAttribute("aria-controls"),n=this.querySelector(`#${i}`);t.forEach((e=>{e.hidden=!0})),n.hidden=!1}))}))}}),window.customElements.define("cor-search-box",class extends e{connectedCallback(){console.log("searcxh");const e=document.querySelector("#site-search-button button");e&&e.addEventListener("click",this.toggleSearchBox.bind(this))}static get observedAttributes(){return["open"]}get open(){return this.hasAttribute("open")}set open(e){e?this.setAttribute("open",""):this.removeAttribute("open"),this.toggleNav()}toggleSearchBox(){console.log("toggle",this,this.open),this.open?this.removeAttribute("open"):this.setAttribute("open","")}attributeChangedCallback(e,t,s){const i=document.getElementById("site-search");this.open?(console.log("open"),i.removeAttribute("hidden")):(console.log("not open"),i.setAttribute("hidden",""))}}),window.customElements.define("cor-languages-selector",class extends e{connectedCallback(){const{root:e}=this,t="view";new MutationObserver((()=>{console.log(e.view),"mobile"===e.view?this.dataset.open="true":console.log("Desktop:lang select")})).observe(e,{attributes:!0,attributeFilter:[t]})}});
